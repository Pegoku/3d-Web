<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="">
        <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>        
        <script>
            AFRAME.registerComponent('custom-controls', {
              init: function () {
                 this.onKeyDown = this.onKeyDown.bind(this);
              },
              play: function () {
                 window.addEventListener('keydown', this.onKeyDown);
              },
              pause: function () {
                 window.removeEventListener('keydown', this.onKeyDown);
              },
              onKeyDown: function (evt) {
                 var position = this.el.getAttribute('position');
                 if (evt.key === 'e') { // Move up
                   position.y += 0.1;
                 } else if (evt.key === 'q') { // Move down
                   position.y -= 0.1;
                 }
                 this.el.setAttribute('position', position);
              }
            });
          </script>
    </head>
    <body>
        <a-scene>
            <a-entity camera wasd-controls look-controls custom-controls position="0 0.75 2.25"></a-entity>

            <a-entity gltf-model="./models/board.glb" position="0 0 0" scale="0.25 0.25 0.25"></a-entity>

            <a-entity gltf-model="models/pawn.glb" class="moving" position="0.36 0.075 -1.4" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: 5 1 -5; dur: 2000; easing: linear; startEvents: moveX"          
                animation__move2="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>
            <a-entity gltf-model="models/pawn.glb" class="moving" position="0.36 0.075 -1.0" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: 5 1 -5; dur: 2000; easing: linear; startEvents: moveX"          
                animation__move2="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>
            <a-entity gltf-model="models/pawn.glb" class="moving" position="0.36 0.075 -.6" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: 5 1 -5; dur: 2000; easing: linear; startEvents: moveX"          
                animation__move2="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>
            <a-entity gltf-model="models/pawn.glb" class="moving" position="0.36 0.075 -.2" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: -0.44 0.075 -.2; dur: 2000; easing: linear; startEvents: move1"          
                animation__move2="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>
            <a-entity gltf-model="models/pawn.glb" class="moving" position="0.36 0.075 .2" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: moveX"          
                animation__move2="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>
            <a-entity gltf-model="models/pawn.glb" class="moving" position="0.36 0.075 .6" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: 5 1 -5; dur: 2000; easing: linear; startEvents: moveX"          
                animation__move2="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>
            <a-entity gltf-model="models/pawn.glb" class="moving" position="0.36 0.075 1.0" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: 5 1 -5; dur: 2000; easing: linear; startEvents: moveX"          
                animation__move2="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>
            <a-entity gltf-model="models/pawn.glb" class="moving" position="0.36 0.075 1.4" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: 5 1 -5; dur: 2000; easing: linear; startEvents: moveX"          
                animation__move2="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>

            <a-entity gltf-model="models/rook.glb" class="moving" position="1.0 0.075 -1.4" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: 5 1 -5; dur: 2000; easing: linear; startEvents: moveX"          
                animation__move2="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>
            <a-entity gltf-model="models/knite.glb" class="moving" position="1.25 0.075 -1.0" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: 0.45 0.075 -0.6; dur: 2000; easing: linear; startEvents: move5"          
                animation__move2="property: position; to: -0.35 0.075 -0.2; dur: 2000; easing: linear; startEvents: move9"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>
            <a-entity gltf-model="models/bishop.glb" class="moving" position="1.5 0.075 -.6" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: 0.3 0.075 .6; dur: 2000; easing: linear; startEvents: move3"          
                animation__move2="property: position; to: -0.84 0.075 -.6; dur: 2000; easing: linear; startEvents: move11"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>
            <a-entity gltf-model="models/king.glb" class="moving" position="1.75 0.075 -.2" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: 5 1 -5; dur: 2000; easing: linear; startEvents: moveX"          
                animation__move2="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>
            <a-entity gltf-model="models/queen.glb" class="moving" position="2.05 0.075 .2" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: 2.05 -5.075 .2; dur: 2000; easing: linear; startEvents: move10"          
                animation__move2="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>
            <a-entity gltf-model="models/bishop.glb" class="moving" position="1.5 0.075 .6" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: 5 1 -5; dur: 2000; easing: linear; startEvents: moveX"          
                animation__move2="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>
            <a-entity gltf-model="models/knite.glb" class="moving" position="1.25 0.075 1.0" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: .45 0.075 0.6; dur: 2000; easing: linear; startEvents: move7"          
                animation__move2="property: position; to: -0.35 0.075 0.2; dur: 2000; easing: linear; startEvents: move13"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>
            <a-entity gltf-model="models/rook.glb" class="moving" position="1.0 0.075 1.4" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: 5 1 -5; dur: 2000; easing: linear; startEvents: moveX"          
                animation__move2="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>

            
            <a-entity gltf-model="models/pawn-b.glb" class="moving" position="-1.64 0.075 -1.4" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: 5 1 -5; dur: 2000; easing: linear; startEvents: moveX"          
                animation__move2="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>
            <a-entity gltf-model="models/pawn-b.glb" class="moving" position="-1.64 0.075 -1.0" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: 5 1 -5; dur: 2000; easing: linear; startEvents: moveX"          
                animation__move2="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>
            <a-entity gltf-model="models/pawn-b.glb" class="moving" position="-1.64 0.075 -.6" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: -1.64 -5 -0.6; dur: 2000; easing: linear; startEvents: move11"          
                animation__move2="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>
            <a-entity gltf-model="models/pawn-b.glb" class="moving" position="-1.64 0.075 -.2" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: -0.84 0.075 -.2; dur: 2000; easing: linear; startEvents: move2"          
                animation__move2="property: position; to: -0.84 -5.075 -.2; dur: 2000; easing: linear; startEvents: move9"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>
            <a-entity gltf-model="models/pawn-b.glb" class="moving" position="-1.64 0.075 .2" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: -1.24 0.075 .2; dur: 2000; easing: linear; startEvents: move4"          
                animation__move2="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>
            <a-entity gltf-model="models/pawn-b.glb" class="moving" position="-1.64 0.075 .6" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: 5 1 -5; dur: 2000; easing: linear; startEvents: moveX"          
                animation__move2="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>
            <a-entity gltf-model="models/pawn-b.glb" class="moving" position="-1.64 0.075 1.0" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: 5 1 -5; dur: 2000; easing: linear; startEvents: moveX"          
                animation__move2="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>
            <a-entity gltf-model="models/pawn-b.glb" class="moving" position="-1.64 0.075 1.4" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: 5 1 -5; dur: 2000; easing: linear; startEvents: moveX"          
                animation__move2="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>

            <a-entity gltf-model="models/rook-b.glb" class="moving" position="-1.8 0.075 -1.4" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: 5 1 -5; dur: 2000; easing: linear; startEvents: moveX"          
                animation__move2="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>
            <a-entity gltf-model="models/knite-b.glb" class="moving" position="-1.55 0.075 -1.0" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: 5 1 -5; dur: 2000; easing: linear; startEvents: moveX"          
                animation__move2="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>
            <a-entity gltf-model="models/bishop-b.glb" class="moving" position="-1.3 0.075 -.6" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: 5 1 -5; dur: 2000; easing: linear; startEvents: moveX"          
                animation__move2="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>
            <a-entity gltf-model="models/king-b.glb" class="moving" position="-1.0 0.075 -.2" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: -0.6 0.075 -.2; dur: 2000; easing: linear; startEvents: move12"          
                animation__move2="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>
            <a-entity gltf-model="models/queen-b.glb" class="moving" position="-0.75 0.075 .2" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: 5 1 -5; dur: 2000; easing: linear; startEvents: moveX"          
                animation__move2="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>
            <a-entity gltf-model="models/bishop-b.glb" class="moving" position="-1.3 0.075 .6" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: 0.3 0.075 -1.0; dur: 2000; easing: linear; startEvents: move8"          
                animation__move2="property: position; to: 1.45 0.075 .2; dur: 2000; easing: linear; startEvents: move10"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>
            <a-entity gltf-model="models/knite-b.glb" class="moving" position="-1.55 0.075 1.0" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: -0.75 0.075 .6; dur: 2000; easing: linear; startEvents: move6"          
                animation__move2="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>
            <a-entity gltf-model="models/rook-b.glb" class="moving" position="-1.8 0.075 1.4" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: 5 1 -5; dur: 2000; easing: linear; startEvents: moveX"          
                animation__move2="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity>

            <!-- <a-box class="moving" position="0 1 -5" color="#4CC3D9"
            animation__move1="property: position; to: 5 1 -5; dur: 2000; easing: linear; startEvents: move1"         
            animation__move2="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: move2"
            animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: move3"
                animation__move="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: move4">
            </a-box>
            <a-entity gltf-model="models/pawn.glb" class="moving" position="0.36 0.075 .2" scale="0.5 0.5 0.5" 
                animation__move1="property: position; to: -0.44 0.075 .2; dur: 2000; easing: linear; startEvents: move1"          
                animation__move2="property: position; to: 5 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move3="property: position; to: 0 3 -5; dur: 2000; easing: linear; startEvents: moveX"
                animation__move4="property: position; to: 0 1 -5; dur: 2000; easing: linear; startEvents: moveX">
            </a-entity> -->
            
        </a-scene>
        <button id="startAnimationBtn" style="position: fixed; top: 0; left: 0;">Next Move</button>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                 var movingElements = document.querySelectorAll('.moving'); // Select all elements
                 var startAnimationBtn = document.querySelector('#startAnimationBtn');
                 var animationStep = 1; // Initialize counter for animation steps
            
                 startAnimationBtn.addEventListener('click', function() {
                     movingElements.forEach(function(movingElement) { // Iterate over each element
                         switch(animationStep) {
                             case 1:
                                  movingElement.emit('move1');
                                  break;
                             case 2:
                                  movingElement.emit('move2');
                                  break;
                             case 3:
                                  movingElement.emit('move3');
                                  break;
                             case 4:
                                  movingElement.emit('move4');
                                  break;
                             case 5:
                                  movingElement.emit('move5');
                                  break;
                             case 6:
                                  movingElement.emit('move6');
                                  break;
                             case 7:
                                  movingElement.emit('move7');
                                  break;
                             case 8:
                                  movingElement.emit('move8');
                                  break;
                             case 9:
                                  movingElement.emit('move9');
                                  break;
                             case 10:
                                  movingElement.emit('move10');
                                  break;
                             case 11:
                                  movingElement.emit('move11');
                                  break;
                             case 12:
                                  movingElement.emit('move12');
                                  break;
                             case 13:
                                  movingElement.emit('move13');
                                  displayCheckmateMessage();
                                  break;
                             default:
                                  console.log('No more animations.');
                                  break;
                         }
                     });
                     animationStep++; // Move to the next animation step
                 });
                function displayCheckmateMessage() {
                var messageElement = document.getElementById('checkmateMessage');
                if (!messageElement) {
                    // If the element doesn't exist, create it
                    messageElement = document.createElement('div');
                    messageElement.id = 'checkmateMessage';
                    document.body.appendChild(messageElement);
                }
                messageElement.innerText = "CHECKMATE\nWHITES WIN"; // Set the message
                messageElement.style.position = 'fixed';
                messageElement.style.top = '50%';
                messageElement.style.left = '50%';
                messageElement.style.transform = 'translate(-50%, -50%)';
                messageElement.style.fontSize = '40px';
                messageElement.style.color = 'white';
            }
            });
        </script>
        
    </body>
</html>